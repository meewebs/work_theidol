package sendsmsproject;

import java.io.*;
import java.net.*;


/*
 *
 * @author peeraroje@igen.co.th
 */
public class Main {

    /*
     * @param args the command line arguments
     */
    public static void main(String[] args) throws UnsupportedEncodingException {

        String user = "grandu";
        String password = "<<please contact your admin>>";
        String api_id = "164";

        String recipients = "0841310888";
        // support 1,000 numbers for one-time sending, use the comma(,) as the delimiter

        String body = "∑¥ Õ∫®“° grandu";
        // 1Msg credit = 70 characters for Thai language or 160 characters for English language
        // support 189 characters as 3-Msg credit for Thai language
        // support 450 characters as 3-Msg credit for English language

        String message = URLEncoder.encode(body, "windows-874");

        String postURI = api_id+"&sUser="+user+"&sPassword="+password+"&Msn="+recipients+"&Msg="+message;

        try {
            URL url = new URL("http://www.igen.co.th/isms/home/smsapi.php?sCustomerid="+postURI);
            BufferedReader reader = new BufferedReader(new InputStreamReader(url.openStream()));

            String line;
            while ((line = reader.readLine()) != null) {
                System.out.println(line);
                // 0         Success
                // -1        System is not ready / Unknown Errors
                // -103    Quota Limit Reached
                // -108    Message is null
                // -109    Invalid Msn
                // -110    Invalid User or Password
                // -111    Message length exceed 1000 characters in Msg field
            }
            reader.close();
        } catch (MalformedURLException e) {
        } catch (IOException e) {
        }
    }

}
